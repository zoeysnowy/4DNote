# AI Task Manager PRD - AI ä»»åŠ¡ç®¡ç†å™¨äº§å“éœ€æ±‚æ–‡æ¡£

**ç‰ˆæœ¬**: v1.0  
**æ—¥æœŸ**: 2024-12-16  
**è´Ÿè´£äºº**: Zoey Gong  
**çŠ¶æ€**: è®¾è®¡ä¸­

---

## ğŸ“‹ ç›®å½•

1. [äº§å“æ¦‚è¿°](#äº§å“æ¦‚è¿°)
2. [æ ¸å¿ƒåŠŸèƒ½](#æ ¸å¿ƒåŠŸèƒ½)
3. [ç”¨æˆ·åœºæ™¯](#ç”¨æˆ·åœºæ™¯)
4. [æ•°æ®æ¨¡å‹](#æ•°æ®æ¨¡å‹)
5. [AI èƒ½åŠ›](#ai-èƒ½åŠ›)
6. [äº¤äº’è®¾è®¡](#äº¤äº’è®¾è®¡)
7. [æŠ€æœ¯æ¶æ„](#æŠ€æœ¯æ¶æ„)
8. [è¿­ä»£è§„åˆ’](#è¿­ä»£è§„åˆ’)

---

## äº§å“æ¦‚è¿°

### äº§å“å®šä½
AI Task Manager æ˜¯ 4DNote çš„æ™ºèƒ½ä»»åŠ¡ç®¡ç†æ¨¡å—ï¼Œé€šè¿‡ AI èƒ½åŠ›å¢å¼ºä¼ ç»Ÿå¾…åŠç®¡ç†ï¼Œå®ç°ï¼š
- ğŸ“¥ **æ™ºèƒ½è¾“å…¥**ï¼šä»é‚®ä»¶ã€æ–‡æœ¬ã€å›¾ç‰‡ã€ç½‘é¡µè‡ªåŠ¨æå–ä»»åŠ¡
- ğŸ¤– **æ™ºèƒ½ç»„ç»‡**ï¼šè‡ªåŠ¨åˆ†ç±»ã€ä¼˜å…ˆçº§åˆ¤æ–­ã€æ—¶é—´è§„åˆ’
- ğŸ”— **æ™ºèƒ½å…³è”**ï¼šå…³è”äº‹ä»¶ã€ç¬”è®°ã€æ ‡ç­¾ï¼Œæ„å»ºçŸ¥è¯†å›¾è°±
- ğŸ“Š **æ™ºèƒ½åˆ†æ**ï¼šä»»åŠ¡ç»Ÿè®¡ã€æ—¶é—´åˆ†é…ã€æ•ˆç‡åˆ†æ

### ç›®æ ‡ç”¨æˆ·
- çŸ¥è¯†å·¥ä½œè€…ï¼šéœ€è¦å¤„ç†å¤§é‡é‚®ä»¶ã€ä¼šè®®ã€æ–‡æ¡£
- é¡¹ç›®ç®¡ç†è€…ï¼šç®¡ç†å¤šé¡¹ç›®ã€å¤šä»»åŠ¡ã€å¤šäººåä½œ
- è‡ªæˆ‘ç®¡ç†è€…ï¼šGTD å®è·µè€…ã€æ—¶é—´ç®¡ç†çˆ±å¥½è€…

### æ ¸å¿ƒä»·å€¼
1. **å‡å°‘è¾“å…¥æˆæœ¬**ï¼šä»æ‰‹åŠ¨åˆ›å»º â†’ AI è‡ªåŠ¨æå–
2. **æå‡ç»„ç»‡æ•ˆç‡**ï¼šä»å¹³é“ºåˆ—è¡¨ â†’ æ™ºèƒ½åˆ†ç±»å…³è”
3. **å¢å¼ºå†³ç­–èƒ½åŠ›**ï¼šä»å‡­æ„Ÿè§‰ â†’ æ•°æ®é©±åŠ¨ä¼˜å…ˆçº§

---

## æ ¸å¿ƒåŠŸèƒ½

### 1. æ™ºèƒ½ä»»åŠ¡æå–

#### 1.1 å¤šæºè¾“å…¥
| è¾“å…¥ç±»å‹ | æ”¯æŒæ ¼å¼ | AI å¤„ç† |
|---------|---------|---------|
| æ–‡æœ¬ | é‚®ä»¶ã€èŠå¤©è®°å½•ã€ä¼šè®®çºªè¦ | æå–ä»»åŠ¡ã€æˆªæ­¢æ—¥æœŸã€è´£ä»»äºº |
| æ–‡ä»¶ | PDFã€Wordã€Markdown | è¯†åˆ« TODO æ ‡è®°ã€è¡ŒåŠ¨é¡¹ |
| å›¾ç‰‡ | æµ·æŠ¥ã€ç™½æ¿ç…§ç‰‡ã€æ‰‹å†™ç¬”è®° | OCR + ä»»åŠ¡è¯†åˆ« |
| ç½‘é¡µ | é¡¹ç›®ç®¡ç†å·¥å…·ã€åœ¨çº¿æ–‡æ¡£ | çˆ¬å– + ç»“æ„åŒ–æå– |
| è¯­éŸ³ | ä¼šè®®å½•éŸ³ã€è¯­éŸ³å¤‡å¿˜ | ASR + NLU æå– |

#### 1.2 æå–é€»è¾‘
```typescript
interface TaskExtractionInput {
  source: 'text' | 'file' | 'image' | 'url' | 'audio';
  content: string | File | Blob;
  context?: {
    relatedEventId?: string;    // å…³è”çš„ä¸»äº‹ä»¶
    sourceType?: 'email' | 'meeting' | 'chat' | 'manual';
    participants?: string[];     // å‚ä¸è€…
  };
}

interface ExtractedTask {
  title: string;                 // ä»»åŠ¡æ ‡é¢˜
  description?: string;          // è¯¦ç»†æè¿°
  dueDate?: Date;                // æˆªæ­¢æ—¥æœŸ
  priority?: 'high' | 'medium' | 'low';  // ä¼˜å…ˆçº§
  assignee?: string;             // è´£ä»»äºº
  tags?: string[];               // æ ‡ç­¾
  checklistItems?: string[];     // å­ä»»åŠ¡æ¸…å•
  estimatedTime?: number;        // é¢„è®¡è€—æ—¶ï¼ˆåˆ†é’Ÿï¼‰
  dependencies?: string[];       // ä¾èµ–ä»»åŠ¡
  actionType?: 'register' | 'prepare' | 'follow-up' | 'review';  // è¡ŒåŠ¨ç±»å‹
  confidence: number;            // æå–ç½®ä¿¡åº¦ 0-1
}
```

#### 1.3 æ™ºèƒ½è¯†åˆ«åœºæ™¯
**åœºæ™¯ 1: æ´»åŠ¨æŠ¥åä»»åŠ¡**
```
è¾“å…¥ï¼šæ´»åŠ¨æµ·æŠ¥å›¾ç‰‡ï¼ˆåŒ…å«äºŒç»´ç ï¼‰
æå–ç»“æœï¼š
- ä¸»ä»»åŠ¡ï¼šå‚åŠ çº¿ä¸Šè§£è¯»ä¼šï¼ˆ12æœˆ19æ—¥ 14:00-15:30ï¼‰
- å­ä»»åŠ¡1ï¼šæŠ¥åï¼ˆæˆªæ­¢12æœˆ18æ—¥ï¼ŒäºŒç»´ç é“¾æ¥ï¼‰
- å­ä»»åŠ¡2ï¼šæå‰5åˆ†é’Ÿè¿›å…¥ä¼šè®®å®¤
- æé†’ï¼šæ´»åŠ¨å‰1å¤©ã€æ´»åŠ¨å‰1å°æ—¶
```

**åœºæ™¯ 2: ä¼šè®®çºªè¦ä»»åŠ¡**
```
è¾“å…¥ï¼šä¼šè®®çºªè¦æ–‡æœ¬
æå–ç»“æœï¼š
- @å¼ ä¸‰ï¼šæ•´ç†éœ€æ±‚æ–‡æ¡£ï¼ˆæˆªæ­¢å‘¨äº”ï¼‰
- @æå››ï¼šå‡†å¤‡ Demoï¼ˆæˆªæ­¢ä¸‹å‘¨ä¸€ï¼‰
- @æˆ‘ï¼šè·Ÿè¿›å®¢æˆ·åé¦ˆï¼ˆæœ¬å‘¨å†…ï¼‰
- ä¸‹æ¬¡ä¼šè®®ï¼š12æœˆ20æ—¥è®¨è®ºè¿›åº¦
```

**åœºæ™¯ 3: é‚®ä»¶ä»»åŠ¡**
```
è¾“å…¥ï¼šå·¥ä½œé‚®ä»¶
æå–ç»“æœï¼š
- å®¡æ ¸åˆåŒï¼ˆæˆªæ­¢æ˜å¤©ä¸‹åˆ3ç‚¹ï¼‰
- å›å¤å®¢æˆ·ç¡®è®¤ï¼ˆç´§æ€¥ï¼‰
- å‡†å¤‡å­£åº¦æŠ¥å‘Šï¼ˆ12æœˆ25æ—¥ï¼‰
```

### 2. æ™ºèƒ½ä»»åŠ¡ç»„ç»‡

#### 2.1 è‡ªåŠ¨åˆ†ç±»
```typescript
interface TaskCategory {
  type: 'work' | 'personal' | 'learning' | 'health' | 'social';
  project?: string;         // æ‰€å±é¡¹ç›®
  area?: string;            // GTD é¢†åŸŸï¼ˆå·¥ä½œã€å®¶åº­ã€å…´è¶£ç­‰ï¼‰
  context?: string;         // æ‰§è¡Œåœºæ™¯ï¼ˆç”µè„‘å‰ã€å¤–å‡ºã€ç”µè¯ç­‰ï¼‰
  energy?: 'high' | 'medium' | 'low';  // æ‰€éœ€ç²¾åŠ›
}
```

#### 2.2 ä¼˜å…ˆçº§ç®—æ³•
```typescript
// AI ç»¼åˆè®¡ç®—ä¼˜å…ˆçº§
function calculatePriority(task: ExtractedTask): Priority {
  const factors = {
    urgency: calculateUrgency(task.dueDate),      // ç´§è¿«æ€§
    importance: analyzeImportance(task.content),   // é‡è¦æ€§
    effort: estimateEffort(task.description),      // å·¥ä½œé‡
    dependencies: checkDependencies(task),         // ä¾èµ–å…³ç³»
    userPreference: getUserPattern(task.tags),     // ç”¨æˆ·ä¹ æƒ¯
  };
  
  return weightedScore(factors);
}
```

#### 2.3 æ™ºèƒ½æ—¶é—´è§„åˆ’
- **ç•ªèŒ„é’Ÿå»ºè®®**ï¼šæ ¹æ®é¢„è®¡è€—æ—¶è‡ªåŠ¨åˆ†é…ç•ªèŒ„é’Ÿæ•°é‡
- **æ—¶é—´å—åŒ¹é…**ï¼šåœ¨æ—¥å†ç©ºé—²æ—¶æ®µæ¨èæ‰§è¡Œæ—¶é—´
- **ç²¾åŠ›æ›²çº¿**ï¼šé«˜ç²¾åŠ›ä»»åŠ¡å®‰æ’åœ¨é«˜æ•ˆæ—¶æ®µ
- **æ‰¹å¤„ç†ä¼˜åŒ–**ï¼šåŒç±»å‹ä»»åŠ¡é›†ä¸­å¤„ç†

### 3. æ™ºèƒ½ä»»åŠ¡å…³è”

#### 3.1 å…³è”ç»´åº¦
```typescript
interface TaskRelations {
  parentEvent?: Event;           // çˆ¶äº‹ä»¶ï¼ˆä¸»ä¼šè®®ã€ä¸»é¡¹ç›®ï¼‰
  subTasks?: Task[];             // å­ä»»åŠ¡
  relatedNotes?: Note[];         // ç›¸å…³ç¬”è®°
  relatedEvents?: Event[];       // ç›¸å…³äº‹ä»¶
  relatedTags?: Tag[];           // å…³è”æ ‡ç­¾
  dependencies?: {               // ä¾èµ–å…³ç³»
    blockedBy?: Task[];          // è¢«é˜»å¡
    blocking?: Task[];           // é˜»å¡å…¶ä»–
  };
  context?: {
    location?: string;           // åœ°ç‚¹
    participants?: string[];     // å‚ä¸è€…
    resources?: string[];        // æ‰€éœ€èµ„æº
  };
}
```

#### 3.2 çŸ¥è¯†å›¾è°±
```
                    é¡¹ç›®A
                      â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼             â–¼             â–¼
      ä»»åŠ¡1         ä»»åŠ¡2         ä»»åŠ¡3
        â”‚             â”‚             â”‚
    â”Œâ”€â”€â”€â”¼â”€â”€â”€â”     â”Œâ”€â”€â”€â”¼â”€â”€â”€â”     â”Œâ”€â”€â”€â”¼â”€â”€â”€â”
    â–¼   â–¼   â–¼     â–¼   â–¼   â–¼     â–¼   â–¼   â–¼
   ç¬”è®° æ ‡ç­¾ äºº   ç¬”è®° æ ‡ç­¾ äºº   ç¬”è®° æ ‡ç­¾ äºº
```

### 4. æ™ºèƒ½ä»»åŠ¡æ‰§è¡Œ

#### 4.1 æ‰§è¡Œå»ºè®®
```typescript
interface ExecutionSuggestion {
  bestTimeSlot: {
    start: Date;
    end: Date;
    reason: string;           // "æ ¹æ®ä½ çš„ç²¾åŠ›æ›²çº¿ï¼Œæ­¤æ—¶æ®µæœ€é€‚åˆæ·±åº¦å·¥ä½œ"
  };
  prepareChecklist: string[]; // æ‰§è¡Œå‰å‡†å¤‡æ¸…å•
  estimatedDuration: number;  // é¢„è®¡è€—æ—¶
  breakSuggestion?: string;   // ä¼‘æ¯å»ºè®®
  focusMode: {
    blockedApps?: string[];   // å»ºè®®å±è”½çš„åº”ç”¨
    focusMusic?: string;      // æ¨èèƒŒæ™¯éŸ³ä¹
  };
}
```

#### 4.2 æ‰§è¡Œç›‘æ§
- **è¿›åº¦è·Ÿè¸ª**ï¼šå®æ—¶æ›´æ–°ä»»åŠ¡çŠ¶æ€
- **æ—¶é—´è®°å½•**ï¼šè‡ªåŠ¨è®°å½•å®é™…è€—æ—¶
- **åå·®åˆ†æ**ï¼šé¢„è®¡ vs å®é™…å¯¹æ¯”
- **é˜»å¡é¢„è­¦**ï¼šè¯†åˆ«å»¶æœŸé£é™©

### 5. æ™ºèƒ½å¤ç›˜åˆ†æ

#### 5.1 ä¸ªäººæ•ˆç‡åˆ†æ
```typescript
interface EfficiencyAnalysis {
  completionRate: number;        // å®Œæˆç‡
  punctualityRate: number;       // å‡†æ—¶ç‡
  estimateAccuracy: number;      // æ—¶é—´é¢„ä¼°å‡†ç¡®åº¦
  productiveHours: {             // é«˜æ•ˆæ—¶æ®µ
    morning: number;
    afternoon: number;
    evening: number;
  };
  taskDistribution: {            // ä»»åŠ¡åˆ†å¸ƒ
    byType: Record<string, number>;
    byPriority: Record<string, number>;
    byProject: Record<string, number>;
  };
  recommendations: string[];     // æ”¹è¿›å»ºè®®
}
```

#### 5.2 ä»»åŠ¡è´¨é‡è¯„åˆ†
- **å®Œæ•´æ€§**ï¼šæ˜¯å¦åŒ…å«æ‰€æœ‰å¿…è¦ä¿¡æ¯
- **æ¸…æ™°åº¦**ï¼šæè¿°æ˜¯å¦æ˜ç¡®å¯æ‰§è¡Œ
- **åˆç†æ€§**ï¼šæ—¶é—´å®‰æ’æ˜¯å¦åˆç†
- **å…³è”æ€§**ï¼šä¸å…¶ä»–ä»»åŠ¡/äº‹ä»¶çš„å…³è”æ˜¯å¦å®Œå–„

---

## ç”¨æˆ·åœºæ™¯

### åœºæ™¯ 1: ä¼šè®®ååˆ›å»ºè¡ŒåŠ¨é¡¹
**è§’è‰²**ï¼šäº§å“ç»ç†å°ç‹  
**åœºæ™¯**ï¼šå‘¨ä¼šåéœ€è¦è½å®å¤šä¸ªè¡ŒåŠ¨é¡¹

**ä¼ ç»Ÿæµç¨‹**ï¼š
1. æ‰‹åŠ¨å›å¿†ä¼šè®®å†…å®¹
2. é€ä¸ªåˆ›å»ºå¾…åŠ
3. æ‰‹åŠ¨è®¾ç½®æ—¶é—´å’Œè´£ä»»äºº
4. å®¹æ˜“é—æ¼æˆ–ä¿¡æ¯ä¸å®Œæ•´

**AI å¢å¼ºæµç¨‹**ï¼š
1. ç²˜è´´ä¼šè®®çºªè¦æ–‡æœ¬
2. AI è‡ªåŠ¨è¯†åˆ«æ‰€æœ‰è¡ŒåŠ¨é¡¹
3. è‡ªåŠ¨å…³è”åˆ°ä¼šè®®äº‹ä»¶
4. è‡ªåŠ¨åˆ†é…è´£ä»»äººå’Œæˆªæ­¢æ—¥æœŸ
5. ä¸€é”®åˆ›å»ºæ‰€æœ‰å¾…åŠ

**æ—¶é—´èŠ‚çœ**ï¼šä» 15 åˆ†é’Ÿ â†’ 2 åˆ†é’Ÿ

### åœºæ™¯ 2: æ´»åŠ¨æŠ¥åç®¡ç†
**è§’è‰²**ï¼šHR å°æ  
**åœºæ™¯**ï¼šæ”¶åˆ°æ´»åŠ¨æµ·æŠ¥ï¼Œéœ€è¦æŠ¥åå¹¶å‚åŠ 

**ä¼ ç»Ÿæµç¨‹**ï¼š
1. æ‰‹åŠ¨è®°å½•æ´»åŠ¨æ—¶é—´
2. å•ç‹¬è®°æŠ¥åæˆªæ­¢æ—¥æœŸ
3. ä¿å­˜äºŒç»´ç å›¾ç‰‡
4. å®¹æ˜“å¿˜è®°æŠ¥åæˆ–é”™è¿‡æ´»åŠ¨

**AI å¢å¼ºæµç¨‹**ï¼š
1. ä¸Šä¼ æ´»åŠ¨æµ·æŠ¥å›¾ç‰‡
2. AI è‡ªåŠ¨ OCR è¯†åˆ«ä¿¡æ¯
3. AI è¯†åˆ«äºŒç»´ç è·å–æŠ¥åé“¾æ¥
4. è‡ªåŠ¨åˆ›å»ºï¼š
   - ä¸»äº‹ä»¶ï¼šæ´»åŠ¨å‚åŠ 
   - å­ä»»åŠ¡1ï¼šæŠ¥åï¼ˆå«é“¾æ¥ï¼‰
   - å­ä»»åŠ¡2ï¼šæå‰è¿›å…¥ä¼šè®®
5. è‡ªåŠ¨è®¾ç½®å¤šçº§æé†’

**é—æ¼ç‡**ï¼šä» 30% â†’ 5%

### åœºæ™¯ 3: é‚®ä»¶ä»»åŠ¡æ‰¹é‡å¤„ç†
**è§’è‰²**ï¼šé”€å”®ç»ç†å°å¼   
**åœºæ™¯**ï¼šæ¯å¤©æ”¶åˆ° 50+ é‚®ä»¶ï¼Œéœ€è¦å¿«é€Ÿæ•´ç†ä»»åŠ¡

**ä¼ ç»Ÿæµç¨‹**ï¼š
1. é€å°é‚®ä»¶é˜…è¯»
2. åˆ¤æ–­æ˜¯å¦éœ€è¦è¡ŒåŠ¨
3. æ‰‹åŠ¨åˆ›å»ºä»»åŠ¡
4. å®¹æ˜“ç§¯å‹

**AI å¢å¼ºæµç¨‹**ï¼š
1. é€‰æ‹©å¤šå°é‚®ä»¶
2. AI æ‰¹é‡åˆ†æè¯†åˆ«ä»»åŠ¡
3. è‡ªåŠ¨æå–å…³é”®ä¿¡æ¯
4. æ‰¹é‡åˆ›å»ºå¹¶åˆ†ç±»
5. æ™ºèƒ½æ’ä¼˜å…ˆçº§

**å¤„ç†é€Ÿåº¦**ï¼šä» 30 åˆ†é’Ÿ â†’ 5 åˆ†é’Ÿ

---

## æ•°æ®æ¨¡å‹

### Task æ ¸å¿ƒå­—æ®µ

```typescript
interface Task {
  // ========== åŸºç¡€ä¿¡æ¯ ==========
  id: string;
  title: string;
  description?: string;
  status: 'todo' | 'in-progress' | 'blocked' | 'completed' | 'cancelled';
  
  // ========== æ—¶é—´ç»´åº¦ ==========
  createdAt: Date;
  updatedAt: Date;
  dueDate?: Date;              // æˆªæ­¢æ—¥æœŸ
  scheduledDate?: Date;        // è®¡åˆ’æ‰§è¡Œæ—¥æœŸ
  startedAt?: Date;            // å®é™…å¼€å§‹æ—¶é—´
  completedAt?: Date;          // å®é™…å®Œæˆæ—¶é—´
  estimatedMinutes?: number;   // é¢„è®¡è€—æ—¶
  actualMinutes?: number;      // å®é™…è€—æ—¶
  
  // ========== ç»„ç»‡ç»´åº¦ ==========
  priority: 'high' | 'medium' | 'low';
  category: TaskCategory;
  tags: string[];
  projectId?: string;
  areaId?: string;             // GTD é¢†åŸŸ
  
  // ========== å…³è”ç»´åº¦ ==========
  parentEventId?: string;      // å…³è”ä¸»äº‹ä»¶
  parentTaskId?: string;       // çˆ¶ä»»åŠ¡ï¼ˆå­ä»»åŠ¡ï¼‰
  relatedNoteIds: string[];    // å…³è”ç¬”è®°
  relatedEventIds: string[];   // å…³è”äº‹ä»¶
  dependsOn: string[];         // ä¾èµ–ä»»åŠ¡ ID
  blockedBy: string[];         // é˜»å¡ä»»åŠ¡ ID
  
  // ========== æ‰§è¡Œç»´åº¦ ==========
  assignee?: string;           // è´£ä»»äºº
  participants?: string[];     // å‚ä¸è€…
  checklistItems?: ChecklistItem[];  // æ£€æŸ¥æ¸…å•
  attachments?: Attachment[];  // é™„ä»¶
  location?: string;           // åœ°ç‚¹
  resources?: string[];        // æ‰€éœ€èµ„æº
  
  // ========== AI å¢å¼º ==========
  extractionSource?: {         // æå–æ¥æº
    type: 'manual' | 'ai-extracted';
    sourceType?: 'email' | 'meeting' | 'image' | 'text' | 'url';
    sourceContent?: string;
    extractedAt?: Date;
    confidence?: number;
  };
  aiSuggestions?: {            // AI å»ºè®®
    suggestedTime?: Date;
    suggestedPriority?: string;
    suggestedTags?: string[];
    reason?: string;
  };
  workflowId?: string;         // å…³è”çš„å·¥ä½œæµ
  
  // ========== ç»Ÿè®¡ç»´åº¦ ==========
  postponeCount?: number;      // æ¨è¿Ÿæ¬¡æ•°
  viewCount?: number;          // æŸ¥çœ‹æ¬¡æ•°
  focusTime?: number;          // ä¸“æ³¨æ—¶é•¿ï¼ˆåˆ†é’Ÿï¼‰
}

interface ChecklistItem {
  id: string;
  text: string;
  completed: boolean;
  order: number;
}

interface Attachment {
  id: string;
  type: 'file' | 'image' | 'link' | 'qrcode';
  url: string;
  name: string;
  metadata?: any;
}
```

---

## AI èƒ½åŠ›

### 1. NLP è‡ªç„¶è¯­è¨€ç†è§£

#### 1.1 æ„å›¾è¯†åˆ«
```typescript
// è¯†åˆ«ç”¨æˆ·è¾“å…¥æ„å›¾
const intents = [
  'create_task',        // åˆ›å»ºä»»åŠ¡
  'query_task',         // æŸ¥è¯¢ä»»åŠ¡
  'update_task',        // æ›´æ–°ä»»åŠ¡
  'schedule_task',      // å®‰æ’æ—¶é—´
  'analyze_tasks',      // åˆ†æç»Ÿè®¡
];

// ç¤ºä¾‹
input: "æé†’æˆ‘æ˜å¤©ä¸‹åˆä¸‰ç‚¹ç»™å®¢æˆ·æ‰“ç”µè¯"
â†’ intent: create_task
â†’ entities: {
    action: "ç»™å®¢æˆ·æ‰“ç”µè¯",
    dueDate: "2024-12-17 15:00",
    reminder: true
  }
```

#### 1.2 å®ä½“æŠ½å–
- **æ—¶é—´å®ä½“**ï¼šæ˜å¤©ã€ä¸‹å‘¨äº”ã€ä¸‰å¤©åã€12æœˆ20æ—¥
- **äººå‘˜å®ä½“**ï¼š@å¼ ä¸‰ã€å°æã€å®¢æˆ·ã€å›¢é˜Ÿ
- **åœ°ç‚¹å®ä½“**ï¼šä¼šè®®å®¤Aã€çº¿ä¸Šã€åŒ—äº¬ã€åŠå…¬å®¤
- **ä¼˜å…ˆçº§**ï¼šç´§æ€¥ã€é‡è¦ã€å°½å¿«ã€æœ‰æ—¶é—´çš„æ—¶å€™

#### 1.3 æƒ…æ„Ÿåˆ†æ
```typescript
// åˆ¤æ–­ä»»åŠ¡ç´§è¿«ç¨‹åº¦
analyzeSentiment("ASAP! å®¢æˆ·è¦æ±‚ä»Šå¤©å¿…é¡»å®Œæˆï¼")
â†’ {
    urgency: 'critical',
    sentiment: 'stressed',
    suggestedPriority: 'high'
  }
```

### 2. è®¡ç®—æœºè§†è§‰

#### 2.1 OCR æ–‡å­—è¯†åˆ«
- **è…¾è®¯äº‘ OCR**ï¼šé€šç”¨å°åˆ·ä½“ã€æ‰‹å†™ä½“
- **åœºæ™¯ä¼˜åŒ–**ï¼šæµ·æŠ¥ã€ç™½æ¿ã€æ‰‹å†™ç¬”è®°
- **å¤šè¯­è¨€æ”¯æŒ**ï¼šä¸­è‹±æ–‡æ··åˆ

#### 2.2 äºŒç»´ç è¯†åˆ«
```typescript
interface QRCodeResult {
  type: 'url' | 'text' | 'vcard' | 'wifi';
  content: string;
  action?: 'register' | 'join' | 'download' | 'contact';
}
```

#### 2.3 å›¾ç‰‡æ™ºèƒ½åˆ†æ
- **åœºæ™¯è¯†åˆ«**ï¼šä¼šè®®ã€æ´»åŠ¨ã€æ–‡æ¡£ã€ç™½æ¿
- **å…³é”®ä¿¡æ¯æå–**ï¼šæ—¥æœŸã€æ—¶é—´ã€åœ°ç‚¹ã€è”ç³»æ–¹å¼
- **å¸ƒå±€åˆ†æ**ï¼šæ ‡é¢˜ã€æ­£æ–‡ã€é™„æ³¨

### 3. è¯­éŸ³å¤„ç†

#### 3.1 ASR è¯­éŸ³è¯†åˆ«
- **å®æ—¶è½¬å†™**ï¼šä¼šè®®å½•éŸ³è½¬æ–‡å­—
- **è¯´è¯äººåˆ†ç¦»**ï¼šè¯†åˆ«ä¸åŒå‘è¨€äºº
- **å…³é”®è¯æå–**ï¼šè¡ŒåŠ¨é¡¹ã€å†³ç­–ç‚¹

#### 3.2 è¯­ä¹‰ç†è§£
```typescript
// ä»è¯­éŸ³ä¸­æå–ä»»åŠ¡
input: "æˆ‘ä»¬å†³å®šä¸‹å‘¨ä¸‰ä¹‹å‰å®Œæˆè®¾è®¡ç¨¿ï¼Œç„¶åè®©å¼€å‘å›¢é˜Ÿè¯„å®¡"
â†’ tasks: [
    {
      title: "å®Œæˆè®¾è®¡ç¨¿",
      dueDate: "ä¸‹å‘¨ä¸‰",
      assignee: "è®¾è®¡å›¢é˜Ÿ"
    },
    {
      title: "å¼€å‘å›¢é˜Ÿè¯„å®¡è®¾è®¡ç¨¿",
      dueDate: "ä¸‹å‘¨ä¸‰ä¹‹å",
      dependsOn: ["å®Œæˆè®¾è®¡ç¨¿"]
    }
  ]
```

### 4. æ™ºèƒ½æ¨è

#### 4.1 æ—¶é—´æ¨è
```typescript
// åŸºäºç”¨æˆ·è¡Œä¸ºçš„æ—¶é—´æ¨è
function recommendTime(task: Task): TimeSlot {
  const userPattern = analyzeUserPattern({
    historicalTasks: getUserTasks(userId),
    completionTimes: getCompletionTimes(userId),
    energyCurve: getEnergyCurve(userId)
  });
  
  return findOptimalSlot(task, userPattern, calendar);
}
```

#### 4.2 ä¼˜å…ˆçº§æ¨è
- **æˆªæ­¢æ—¥æœŸä¸´è¿‘åº¦**
- **å†å²å®Œæˆæ¨¡å¼**
- **é¡¹ç›®é‡è¦æ€§**
- **ä¾èµ–å…³ç³»ç´§è¿«æ€§**

#### 4.3 æ ‡ç­¾æ¨è
```typescript
// åŸºäºå†…å®¹çš„æ ‡ç­¾æ¨è
const suggestedTags = embedTaskContent(task.title + task.description)
  .findSimilarTasks(historicalTasks)
  .extractCommonTags()
  .rankByRelevance();
```

---

## äº¤äº’è®¾è®¡

### 1. å¿«é€Ÿè¾“å…¥

#### 1.1 æ™ºèƒ½è¾“å…¥æ¡†
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ’¬ å‘Šè¯‰æˆ‘ä½ è¦åšä»€ä¹ˆ...                      â”‚
â”‚                                              â”‚
â”‚  æç¤ºï¼š                                       â”‚
â”‚  â€¢ æ˜å¤©ä¸‹åˆ3ç‚¹ç»™å®¢æˆ·æ‰“ç”µè¯                    â”‚
â”‚  â€¢ å‘¨äº”å‰å®ŒæˆæŠ¥å‘Š #å·¥ä½œ @é«˜ä¼˜å…ˆçº§            â”‚
â”‚  â€¢ æé†’æˆ‘ä¸‹å‘¨ä¸€å¼€ä¼š                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 1.2 å¤šæ¨¡æ€è¾“å…¥
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“¤ æ·»åŠ ä»»åŠ¡                                 â”‚
â”‚                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ ğŸ“  â”‚  â”‚ ğŸ“„  â”‚  â”‚ ğŸ“·  â”‚  â”‚ ğŸ”—  â”‚       â”‚
â”‚  â”‚æ–‡æœ¬ â”‚  â”‚æ–‡ä»¶ â”‚  â”‚å›¾ç‰‡ â”‚  â”‚é“¾æ¥ â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                              â”‚
â”‚  æˆ–ç›´æ¥ç²˜è´´é‚®ä»¶/çºªè¦/æµ·æŠ¥...                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. ä»»åŠ¡è§†å›¾

#### 2.1 åˆ—è¡¨è§†å›¾
```
ä»Šå¤© (3)
  ğŸ”´ [ç´§æ€¥] å›å¤å®¢æˆ·é‚®ä»¶              14:00 æˆªæ­¢
  ğŸŸ¡ å‡†å¤‡ä¼šè®®ææ–™                     16:00
  ğŸŸ¢ è·Ÿè¿›é¡¹ç›®è¿›åº¦

æ˜å¤© (2)
  ğŸŸ¡ å›¢é˜Ÿå‘¨ä¼š                         10:00-11:00
  ğŸŸ¢ æ•´ç†å‘¨æŠ¥

æœ¬å‘¨ (5)
  ...
```

#### 2.2 çœ‹æ¿è§†å›¾
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å¾…åŠ      â”‚  è¿›è¡Œä¸­    â”‚  é˜»å¡     â”‚  å®Œæˆ     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ä»»åŠ¡1     â”‚ ä»»åŠ¡4     â”‚ ä»»åŠ¡7     â”‚ ä»»åŠ¡9     â”‚
â”‚ ä»»åŠ¡2     â”‚ ä»»åŠ¡5     â”‚           â”‚ ä»»åŠ¡10    â”‚
â”‚ ä»»åŠ¡3     â”‚ ä»»åŠ¡6     â”‚           â”‚           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2.3 æ—¶é—´è½´è§†å›¾
```
08:00  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
09:00  â–“â–“â–“â–“â–“â–“â–“ ä»»åŠ¡1 (1h)
10:00  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
11:00  â–‘â–‘â–‘â–‘â–‘ ç©ºé—²
12:00  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
13:00  â–‘â–‘â–‘â–‘â–‘ åˆä¼‘
14:00  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
15:00  â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“ ä»»åŠ¡2 (2h)
16:00  â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“
17:00  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### 3. AI åŠ©æ‰‹äº¤äº’

#### 3.1 æ™ºèƒ½å»ºè®®æµ®å±‚
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ’¡ AI å»ºè®®                                  â”‚
â”‚                                              â”‚
â”‚  è¿™ä¸ªä»»åŠ¡é¢„è®¡éœ€è¦ 2 å°æ—¶å®Œæˆ                 â”‚
â”‚                                              â”‚
â”‚  å»ºè®®å®‰æ’åœ¨ï¼š                                 â”‚
â”‚  â€¢ æ˜å¤©ä¸Šåˆ 9:00-11:00ï¼ˆç²¾åŠ›æœ€ä½³ï¼‰           â”‚
â”‚  â€¢ åå¤©ä¸‹åˆ 14:00-16:00                     â”‚
â”‚                                              â”‚
â”‚  [ é‡‡çº³å»ºè®® ]  [ è‡ªå·±å®‰æ’ ]                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 3.2 æ‰¹é‡å¤„ç†è¿›åº¦
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš™ï¸ AI æ­£åœ¨å¤„ç†...                           â”‚
â”‚                                              â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  60% (3/5)           â”‚
â”‚                                              â”‚
â”‚  âœ… ä»»åŠ¡1 å·²æå–                             â”‚
â”‚  âœ… ä»»åŠ¡2 å·²æå–                             â”‚
â”‚  âœ… ä»»åŠ¡3 å·²æå–                             â”‚
â”‚  â³ æ­£åœ¨å¤„ç†ä»»åŠ¡4...                         â”‚
â”‚  â±ï¸ ç­‰å¾…å¤„ç†ä»»åŠ¡5                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## æŠ€æœ¯æ¶æ„

### 1. å‰ç«¯æ¶æ„

```typescript
src/
â”œâ”€â”€ features/
â”‚   â””â”€â”€ task-manager/
â”‚       â”œâ”€â”€ components/
â”‚       â”‚   â”œâ”€â”€ TaskInput.tsx          // æ™ºèƒ½è¾“å…¥æ¡†
â”‚       â”‚   â”œâ”€â”€ TaskList.tsx           // åˆ—è¡¨è§†å›¾
â”‚       â”‚   â”œâ”€â”€ TaskKanban.tsx         // çœ‹æ¿è§†å›¾
â”‚       â”‚   â”œâ”€â”€ TaskTimeline.tsx       // æ—¶é—´è½´
â”‚       â”‚   â”œâ”€â”€ TaskDetail.tsx         // ä»»åŠ¡è¯¦æƒ…
â”‚       â”‚   â””â”€â”€ AIAssistant.tsx        // AI åŠ©æ‰‹
â”‚       â”œâ”€â”€ services/
â”‚       â”‚   â”œâ”€â”€ TaskService.ts         // ä»»åŠ¡ CRUD
â”‚       â”‚   â”œâ”€â”€ AITaskService.ts       // AI æå–æœåŠ¡
â”‚       â”‚   â””â”€â”€ WorkflowService.ts     // å·¥ä½œæµæ‰§è¡Œ
â”‚       â”œâ”€â”€ hooks/
â”‚       â”‚   â”œâ”€â”€ useTaskExtraction.ts   // ä»»åŠ¡æå– Hook
â”‚       â”‚   â”œâ”€â”€ useTaskAnalytics.ts    // ä»»åŠ¡åˆ†æ Hook
â”‚       â”‚   â””â”€â”€ useSmartSchedule.ts    // æ™ºèƒ½æ’æœŸ Hook
â”‚       â””â”€â”€ stores/
â”‚           â””â”€â”€ taskStore.ts           // ä»»åŠ¡çŠ¶æ€ç®¡ç†
```

### 2. AI æœåŠ¡æ¶æ„

```typescript
// AI æœåŠ¡å±‚
class AITaskService {
  private langChainAgent: LangChainAgent;
  private ocrService: OCRService;
  private qrService: QRCodeService;
  
  async extractTasks(input: MultiModalInput): Promise<Task[]> {
    // 1. é¢„å¤„ç†
    const processed = await this.preprocess(input);
    
    // 2. æ‰§è¡Œå·¥ä½œæµ
    const workflow = this.selectWorkflow(input.type);
    const result = await workflow.execute(processed);
    
    // 3. åå¤„ç†
    return this.postprocess(result);
  }
  
  async suggestSchedule(task: Task): Promise<TimeSlot> {
    const agent = new SchedulingAgent(this.langChainAgent);
    return await agent.findOptimalTime(task);
  }
}
```

### 3. æ•°æ®å­˜å‚¨

```typescript
// IndexedDB Schema
interface TaskDB {
  tasks: Task[];
  workflows: Workflow[];
  analytics: TaskAnalytics[];
  aiCache: AICache[];  // AI ç»“æœç¼“å­˜
}

// åŒæ­¥ç­–ç•¥
class TaskSyncService {
  // æœ¬åœ°ä¼˜å…ˆ + åå°åŒæ­¥
  async saveTask(task: Task) {
    await this.saveLocal(task);
    this.syncQueue.enqueue(task);
  }
}
```

---

## è¿­ä»£è§„åˆ’

### Phase 1: MVPï¼ˆ2å‘¨ï¼‰
- âœ… åŸºç¡€ä»»åŠ¡ CRUD
- âœ… æ–‡æœ¬æ™ºèƒ½æå–
- âœ… ç®€å•ä¼˜å…ˆçº§æ’åº
- âœ… åŸºç¡€åˆ—è¡¨è§†å›¾

### Phase 2: AI å¢å¼ºï¼ˆ3å‘¨ï¼‰
- ğŸ”„ OCR å›¾ç‰‡è¯†åˆ«
- ğŸ”„ äºŒç»´ç è¯†åˆ«
- ğŸ”„ æ‰¹é‡å¤„ç†
- ğŸ”„ LangChain å·¥ä½œæµ

### Phase 3: æ™ºèƒ½è°ƒåº¦ï¼ˆ2å‘¨ï¼‰
- â³ æ—¶é—´æ¨èç®—æ³•
- â³ æ—¥å†é›†æˆ
- â³ èƒ½é‡æ›²çº¿åˆ†æ
- â³ æ™ºèƒ½æé†’

### Phase 4: åä½œå¢å¼ºï¼ˆ3å‘¨ï¼‰
- â³ ä»»åŠ¡åˆ†é…
- â³ è¿›åº¦è·Ÿè¸ª
- â³ å›¢é˜Ÿçœ‹æ¿
- â³ åä½œé€šçŸ¥

### Phase 5: é«˜çº§åˆ†æï¼ˆ2å‘¨ï¼‰
- â³ æ•ˆç‡æŠ¥å‘Š
- â³ ä¹ æƒ¯åˆ†æ
- â³ é¢„æµ‹å»ºè®®
- â³ è‡ªåŠ¨ä¼˜åŒ–

---

## æ€§èƒ½æŒ‡æ ‡

### ç”¨æˆ·ä½“éªŒæŒ‡æ ‡
- **æå–å‡†ç¡®ç‡**: > 90%
- **å“åº”æ—¶é—´**: < 2sï¼ˆå•ä»»åŠ¡ï¼‰ï¼Œ< 10sï¼ˆæ‰¹é‡5ä¸ªï¼‰
- **ç”¨æˆ·æ»¡æ„åº¦**: > 4.5/5

### æŠ€æœ¯æŒ‡æ ‡
- **OCR å‡†ç¡®ç‡**: > 95%
- **äºŒç»´ç è¯†åˆ«ç‡**: > 99%
- **ç¼“å­˜å‘½ä¸­ç‡**: > 80%
- **ç¦»çº¿å¯ç”¨æ€§**: 100%

---

## é™„å½•

### A. å‚è€ƒèµ„æ–™
- GTD (Getting Things Done) æ–¹æ³•è®º
- OKR ç›®æ ‡ç®¡ç†
- LangChain æ–‡æ¡£
- Notion AIã€ClickUp AI ç«å“åˆ†æ

### B. æœ¯è¯­è¡¨
- **GTD**: Getting Things Doneï¼Œå°½ç®¡å»åš
- **OKR**: Objectives and Key Resultsï¼Œç›®æ ‡ä¸å…³é”®ç»“æœ
- **NLU**: Natural Language Understandingï¼Œè‡ªç„¶è¯­è¨€ç†è§£
- **OCR**: Optical Character Recognitionï¼Œå…‰å­¦å­—ç¬¦è¯†åˆ«

### C. å˜æ›´æ—¥å¿—
- 2024-12-16: v1.0 åˆå§‹ç‰ˆæœ¬
